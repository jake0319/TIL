# 트리와 우선순위 큐 


## 트리
- 트리는 가계도와 같이 `계층적인 구조를 표현`할 때 사용할 수 있는 자료구조다.
- 나무(Tree)의 형태를 뒤집은 것과 같이 생겼다.

<br>

## 트리 용어 정리
- 루트 노드(root node): 부모가 없는 최상위 노드
- 단말 노드(leaf node): 자식이 없는 노드 (더 이상 아래로 내려갈 수 없는)
- 관계: 부모자식관계 | 형제관계 (같은 레벨)
- 깊이: 루트 노드기준에서의 길이(length)
  - 이때, 길이란 `출발 노드에서 목적지 노드까지 거쳐야 하는 간선의 수`를 의미한다.
- 트리의 높이(height):  루트 ~ 가장 깊은 노드까지의 길이 

<br>

## 이진 트리(Binary Tree)
- 각 부모는 최대 2개의 자식을 갖는 트리

<br>

## 우선순위 큐(Priority Queue)
- 우선 순위에 따라 데이터를 추출하는 자료구조
- 컴퓨터 운영체제, 온라인 게임 매칭 등에 활용
- 일반적으로 `힙(heap)`을 이용해 구현

|자료구조|추출되는 데이터|
|---|------------|
|스택(Stack)|가장 나중에 삽입된 데이터(선입후출)|
|큐(Queue)|가장 먼저 삽입된 데이터(선입선출)|
|우선순위큐(Priority queue)|가장 `우선순위가 높은` 데이터|

<br>

|우선순위 큐 구현 방식| 삽입시간 | 삭제시간 |
|--|--|--|
|리스트 자료형| O(1) | O(N) |
|힙(Heap)| O(logN)| O(logN)|

<br>

## 우선순위 큐를 구현하는 방법
- 일반적인 형태의 큐는 선형적인 구조를 가진다.
- 반면에 `우선순위 큐`는 `이진 트리(binary tree)` 구조를 사용하는 것이 일반적이다.

### 여러가지 트리 
- 포화이진트리 : 말단노드 제외 모든 노드가 자식을 2개씩 가짐
- 완전 이진 트리: 모든 노드가 `왼쪽 자식부터 차근차근` 채워진 트리 
  - 모든 노드가 왼쪽 자식부터 차근 차근 채워진 트리이다
- 높이 균형 트리: 왼쪽 자식 트리와 오른쪽 자식 트리의 `높이가 1 이상 차이나지 않는 트리` (좌,우 트리를 나눠서 생각)

## Heap 자료구조
- `힙은 원소들 중에서 최대값,최소값을 빠르게 찾아내는 자료구조`
- 최대 힙: 값이 큰 원소부터 추출한다.
- 최소 힙: 값이 작은 원소부터 추출한다.
- 힙은 원소의 삽입과 삭제를 위해 O(logN)의 수행 시간을 요구한다.
- 단순한 N개의 데이터를 힙에 넣었다가 모두 꺼내는 작업은 정렬과 동일하다.(오름차순 또는 내림차순 정렬되기때문)
  - 이 경우 시간복잡도는 O(NlogN)
 
<br>

### 최대 힙
- 부모 노드가 자식 노드보다 값이 큰(위가 아래보다 항상 큰), `완전 이진 트리`(왼쪽부터 채워진 트리)
- 루트노드가 전체 트리에서 가장 큰 값을 지닌다. (가장 큰 값은 루트노드 값을 꺼낸다)

### 최소 힙
- 부모 노드의 키 값이 자식 노드의 키 값보다 항상 작다
- 루트 노드가 가장 작으며,` 작은 데이터가 우선순위를 가진다.`

<br>

### 최소 힙 구성 함수: Heapify
- (상향식) 자식에서 부모로 거슬러 올라가며, `부모보다 자신이 더 작은 경우에 위치를 교체한다`.(결국 작은 값이 위로 가야하므로)
- 원소가 제거될 때는 가장 마지막 노드가 루트 노드의 위치에 오도록 한다.
- 직관적으로, 거슬러 갈 때마다 처리해야하는 범위에 포함된 원소의 개수가 절반씩 줄어든다.
  - 따라서 삽입과 삭제에 대한 시간 복잡도는 O(logN)이다. (절반씩 줄어드므로)

<br>

## Javascript에서 힙 라이브러리
- js는 기본적으로 우선순위 큐를 라이브러리로 제공하지 않음.
- 최단 경로 알고리즘 등에서 힙(heap)이 필요한 경우 별도의 라이브러리를 사용해야 한다.
- `https://github.com/ndb796/priorityqueuejs`
- `index.js` 소스코들르 가져온 뒤에 다음과 같이 사용

```js
// 최대 힙
let pq = new PriorityQueue(function(a,b){
  return a.cash - b.cash;
});
pq.enq({cash: 250, name: 'Doohyun Kim'});
pq.enq({cash: 300, name: 'Gildong Hong'});
pq.enq({cash: 150, name: 'Minchul Han'});
console.log( pq.size()); //3
console.log(pq.deq()); // 원소를 꺼내면(deq) 가장 원소값이 높은 홍길동이 추출
console.log(pq.peek()); // 그다음 원소를 꺼내면(peek) 김두현 추출
console.log(pq.size()); // 2
```
